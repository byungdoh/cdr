[data]
X_train = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.evmeasures
X_dev = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.evmeasures
X_test = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.evmeasures
y_train = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.y.evmeasures.train
y_dev = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.y.evmeasures.dev
y_test = ~/cocomo/modelblocks-release/workspace/genmodel/naturalstories.wsj02to21-gcg15-decoupled-fg-3sm-bd-x+efabp-+c_+b5000.syn.5-kenlm.t.dtsrsprbaselines_.filt.y.evmeasures.test
split_ids = subject sentid
series_ids = subject docid

[settings]
logdir = natstor_b
modulus = 4
network_type = bayes
inference_name = KLqp
n_iter = 100
n_samples = 1
n_samples_eval = 256
save_freq = 10
learning_rate = .1
learning_rate_min = 1e-3
lr_decay_family = exponential
lr_decay_steps = 25
lr_decay_rate = 0.5
lr_decay_staircase = False
intercept_prior_sd = 1
conv_prior_sd = 1
coef_prior_sd = 1
y_scale_prior_sd = 1
init_sd = 1
minibatch_size = 128
eval_minibatch_size = 100000
use_gpu_if_available = True
log_random = True
plot_x_inches = 10
plot_y_inches = 6
pc = True
mv = False

[fixef_name_map]
C(s(trial), DiracDelta()) = Trial
C(s(sentpos), DiracDelta()) = Sentence position
C(s(wlen), DiracDelta()) = Word length
C(rate, ShiftedGammaKgt1()) = Rate
C(s(fwprob5surp), ShiftedGammaKgt1()) = 5-gram surprisal
C(s(totsurp), ShiftedGammaKgt1()) = PCFG surprisal
C(s(unigram), ShiftedGammaKgt1()) = Unigram probability

[filters]
fdur = > 100, < 3000
correct = > 4
startofsentence = != 1
endofsentence = != 1

[model_DTSR_noRE]
formula = fdur ~ C(rate + z.(wlen) + z.(unigram) + z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1())

[model_DTSR_si]
formula = fdur ~ C(rate + z.(wlen) + z.(unigram) + z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1()) + (1|subject)

[model_DTSR_ss]
formula = log(fdur) ~ C(rate + z.(wlen) + z.(unigram) + z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1()) + (C(rate + z.(wlen) + z.(unigram) +  z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1()) | subject)

[model_DTSR_ss2]
formula = log(fdur) ~ C(rate + z.(wlen) + z.(unigram) + z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1()) + (C(rate + z.(wlen) + z.(unigram) +  z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1()) | subject)

[model_DTSR_ss3]
formula = fdur ~ C(rate + z.(wlen) + z.(unigram) + z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1(cont=T)) + (C(rate + z.(wlen) + z.(unigram) +  z.(fwprob5surp) + z.(totsurp), ShiftedGammaKgt1(cont=T)) | subject)
